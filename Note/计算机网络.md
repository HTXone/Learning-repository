# 计算机网络

## 概述

一个基本概念：三网合一 
电信网络
有线电视网络
计算机网络

两个特性
连通性：网络用户可以交换信息
共享：指资源共享（可以是信息共享，软件共享，硬件共享）

互联网＋
特点：把互联网的创新成果深度融合于经济社会各领域中 大大提升实体经济的创新力和生产力

node:结点 （非节点） 结点有信息分发的功能 节点只能信息中继

![](D:\计网\QQ截图20200401110731.png)

互联网：专有名词 世界网络

互连网连通的是网络

网络连接的是主机

![](D:\计网\QQ截图20200401110358.png)

互联网阶段

第一阶段：单个网络ARPANET向互联网发展过程

第二阶段：形成三级网络

第三阶段：逐渐形成多层ISP（Internet Service Provider）结构的互联网
IP：Internet Protocol 因特网协议

互联网标准化：

![](D:\计网\QQ截图20200401112017.png)

端系统通信：端系统的进程间的通信

C/S服务（客户端 服务端服务）
P2P服务 每个节点 即是客户也是服务又是中继（尽可能地不从网络核心连接 使用边缘连接）

**服务请求方和服务提供方都要使用网络核心部分所提供的服务。**

互联网两大部分：
(1) 边缘部分： 由所有连接在互联网上的主机组成。这部分是用户直接使用的，用来进行通信（传送数据、音频或视频）和资源共享。
(2) 核心部分：由大量网络和连接这些网络的路由器组成。这部分是为边缘部分提供服务的（提供连通性和交换）

核心部分：向网络边缘大量主机提供连通 核心构件为路由器

路由器实现的是分组交换（packet switching）
动态交换 资源被动态调度于连接

电路交换：面向连接(用于传输计算机数据效率低)

电路交换三个阶段：
建立连接：建立一条专用物理通路 保证双方通信不被其他用户占用
通信： 互相通信
释放连接：释放刚才使用的专用物理通路（释放通信资源）

分组转发：将报文分组打包 每个包添加头部 发送 接收后剥去头部 拼接报文 还原

路由器分组转发：缓存 查表 转发

主机为用户进行信息处理
路由器只用于分组交换

![](D:\计网\QQ截图20200408104650.png)

电路交换 先建立连接（有处理延迟） 再物理直传 再释放
报文交换 整段报文存储转发
分组交换 将报文分组加头部后再各包并发进行存储转发

![](D:\计网\QQ截图20200408110400.png)


带宽：本指信号具有的频带宽度 在计算机网络中用于表示网络中某种通道传输数据的能力 表示单位时间内某信道所能通过的最高速率

吞吐量：一个网络单位时间内通过的数据量

时延：数据传输所需时间

1. 发送时延（传输时延） 为 数据帧长度/发送速率
2. 传播时延 为 信道长度/信号在信道上的传播速率
3. 处理时延 为主机或路由器处理分组的时间
4. 排队时延  发送接收前的排队时延

<img src="D:\计网\QQ截图20200408112930.png" style="zoom:67%;" />

**传输快慢需要从4个延迟同时考虑**

往返时间（RTT: Round-Trip Time)

利用率：信道利用率和网络利用率
<img src="D:\计网\QQ截图20200408113553.png" style="zoom:80%;" />

分层结构：将计算机网路实现这个庞大而复杂的问题 转化为若干较小的局部问题 直到极易解决的层次

OSI:
![](D:\计网\QQ截图20200415101217.png)

## 协议：计算机网络中的数据交换必须遵守事先约定号的规则 这些规则明确规定了所交换的数据格式以及有关同步问题（同步含有时序问题） 网络协议 是为进行网络中的数据交换所建立好的规则

**协议组成要素**

1. 语法：数据与控制信息的结构或格式
2. 语义：需要发出何种控制信息 完成何种动作以及做出何种相应
3. 同步：时间实现顺序的详细说明

协议的两种形式

1. 文字描述：便于人来阅读理解
2. 程序代码：让计算机能够理解

（这两种协议都必须对网络信息交换过程做出**精确的解释**）

下层协议对上层虚拟透明

要求：

1. 各层之间独立
2. 灵活性好
3. 结构上可分割
4. 易于实现和维护
5. 能促进标准化工作

各层需要完成功能：

1. 差错控制
2. 流量控制
3. 分段和重装
4. 复用和分用
5. 连接建立和释放

分层的优缺点：
<img src="D:\计网\QQ截图20200415103759.png" style="zoom:50%;" />

**计算机网络各层及其协议的集合就是网络的体系结构** 计算机网络体系结构就是这个计算机网络以及其构件所应完成的功能的金雀定义

实现是遵循这种体系结构前提下用何种硬件或软件完成这些问题的集合 

体系结构是抽象的 而实现是具体的是真正在运行的计算机硬件和软件

#### 5层协议体系（TCP/IP与OSI综合的协议体系）：

![](D:\计网\QQ截图20200415105203.png)

1. 应用层：用于处理网络传输的数据
2. 运输层
3. 网络层
4. 数据链路层
5. 物理层

PDU层间传输数据单元 每层间添加上层首部 链路层同时添加尾部 接收时层层剥离头部

协议与服务的区别：
<img src="D:\计网\QQ截图20200415111515.png" style="zoom:67%;" />

上层服务通过服务原语来获取下层的服务结果
![](D:\计网\QQ截图20200415111659.png)

(SAP Service Access Point:服务访问点)

路由器只需要接收缓存和分发 所以最高只到网际层 无运输层和应用层

第一章小节
三大网络 互联网连通性共享性 互联网和互连网区别 互联网发展ISP等 ISOC IRE。。。 互联网标准的三个阶段 互联网核心边缘构成 CS/P2P通信模式 电路报文分组交换 网络类型 **性能指标** 网络体系结构



## 物理层：

考虑 怎样连接各计算机传输媒体上传输数据比特流

作用是尽可能屏蔽掉不同传输媒体和通信手段带来的区别

用于物理层协议也常称为物理层规程
数据在通信线路上的传输方式一般为串行传输

主要任务 确定与传输媒体的接口的一些特性：
<img src="D:\计网\QQ截图20200417154735.png" style="zoom:67%;" />

数据通信系统模型：
一个数据通信系统包括三大部分 源系统（发送端，发送方） 传输系统（传输网络）目的系统（接收端 接收方）
![](D:\计网\QQ截图20200417155102.png)

源系统：源点（产生要传输的数据），发送器（数字信号编码）

目的系统：接收器（模拟信号解码），终点（比特流解析输出）

术语：
<img src="D:\计网\QQ截图20200417161007.png" style="zoom:50%;" />
模拟数据：运送消息的模拟信号
数字数据：取值为不连续数值的数据
带通信号：一个信号只包含了一种频率的交流成份或者有限几种频率的交流成份
基带信号：发送端发出的没有经过调制（进行频谱搬移和变换）的原始电信号
码元：在数字通信中常常用时间间隔相同的符号来表示一个二进制数字，这样的时间间隔内的信号称为(二进制）码元。 而这个间隔被称为码元长度。**承载信息量的基本信号单位。**

(**信号**：物理层面的信息表现 /**信息**：可被人解读的符号 / **码元**：单位时间里电磁波的表现 即基本波形 不同电位可表示不同的二进制信息 基本码元即位基本时间传输信息带宽 增加电位和频率将提升数据传输大小)

信道（单向  向某一方向）：
<img src="D:\计网\QQ截图20200417162306.png" style="zoom:67%;" />
双向交替通信：不能同时进行信号发出和接收 但可双向差时发送接收

基带信号（基本频带信号）：来自信源的信号（文字或图像等的**数据信号**）

必须进行调制：
<img src="D:\计网\QQ截图20200417162803.png" style="zoom:67%;" />

调制：

1. 基带调制：
   <img src="D:\计网\QQ截图20200417163824.png" style="zoom:67%;" />
2. 带通调制:
   <img src="D:\计网\QQ截图20200417163848.png" style="zoom:67%;" />

带通信号：经过载波调制后的信号

常用编码方式：
<img src="D:\计网\QQ截图20200417164140.png" style="zoom:67%;" />
<img src="D:\计网\QQ截图20200417164451.png" style="zoom:67%;" />

曼彻斯特码中间跳变来进行同步 是一种自同步码
差分曼彻斯特跳变少于曼彻斯特

使用冗余的信号位来传输信息

带通调制：将基带信号调制到高频率

方法：

1. 调频
2. 调幅
3. 调相

### 物理层传输媒体（传输介质 传输媒介）：

数据传输系统中在发送器和接收器之间的物理通路

两大类：导引型和非导引型
导引型：电磁波被导引沿固体媒体传播
非导引型：电磁波无线传播

![](D:\计网\QQ截图20200422095952.png)

#### 导引型：

双绞线（最常用）：
平衡型
模拟传输和数字传输都可以
屏蔽双绞线STP（带金属屏蔽层 屏蔽电磁干扰）
无屏蔽双绞线UTP
![](D:\计网\QQ截图20200422100412.png)

(双绞线两两之间按一定物理性质绞合两两屏蔽噪声)
![](D:\计网\QQ截图20200422101024.png)
<img src="D:\计网\QQ截图20200422101151.png" style="zoom:67%;" />

同轴电缆CC：
非平衡型
有很好的抗干扰特性，被广泛用于传输较高速率的数据
带宽取决于电缆质量
![](D:\计网\QQ截图20200422101859.png)
（50Ω 70Ω是特性阻抗）

光缆：
光纤通信的传输媒体
光的频率过高 所以传输带宽远远大于目前各种传输媒体带宽
通过光的全反射传输

多模光纤：存在多条不同角度入射的光学同时射入传递（存在干扰问题 传输速度低 距离受限）

单模光纤：若光纤直径减少到只有一个光波长 此时光直接向前传播不产生多次反射（不存在干扰 可更好进行信号构建 传输速率高）
<img src="D:\计网\QQ截图20200422103645.png" style="zoom:50%;" />
优点：
<img src="D:\计网\QQ截图20200422103711.png" style="zoom:53%;" />
缺点：
易碎 不抗压

非导引型：
无线传输使用频段广

短波（高频通信）：靠电离层反射 质量差 速率低
微波：直线传播（地面微波接力通信，卫星通信）

## 信道复用技术：

术语：
FDM: Frequency Division Multiplexing P50 
频分复用：用户在分配到一定的频带后，在通信过程中自始至终都占用这个频带

TDM：Time Division Multiplexing
时分复用：将时间划分为一段s等长的时分复用帧

STDM：statistic TDM
统计时分复用：不固定分配时隙 按需动态分配时隙

WDM：Wavelength Division Multiplexing
光的频分复用： 一根光纤同时传输多个光载波信号

DWDM：Dense Wavelength Division Multiplexing
密集型光波复用：组合一组光波长用一根光纤进行传送。

CDMA：Code Division Multiplexing Access
码分多址：各用户使用经过特殊挑选的不同码型 不会产生彼此干扰

SONET：Synchronous Optical Network
同步光纤网络：定义了同步传输的线路速率等级结构

SDH：Synchronous Digital Hierarchy
同步数字体系：不同速率的数字信号的传输提供相应等级的信息结构

STM-1：Synchronous Transfer Module-1
1级同步传递模块：为速率155.520Mbps 的同步传输模块

OC-48：Optical Carrier 48
光学载波48：传输速度为2488.32Mbit/s 是SONET光缆基本速率OC-1的48倍



频分复用时分复用 统计时分复用，波分复用，码分复用

通信共享技术（接入接口 和信道复用（使用特定站点交流静态复用（公网IP） 共用动态复用（内网公网映射）））

频分复用(所有用户在同一时间使用同一通道的不同频带）：
<img src="D:\计网\QQ截图20200422105804.png" style="zoom:67%;" />

时分复用（时间片轮转使用 一个用户占用一个时间片 所有用户在不同时间片占用同一频带）：
![](D:\计网\QQ截图20200422110110.png)

（由于计算机数据突发性 导致线路资源浪费（分配后不变 静态共享））

统计时分复用STDM（Statistic TDM）：
不固定分配时隙 按需动态分配时隙 提高线路利用率

波分复用WDM：

<img src="D:\计网\QQ截图20200422110655.png" style="zoom:50%;" />
EDFA:查尔光波传输放大器

码分复用CDM：
码分多址CDMA
<img src="D:\计网\QQ截图20200422110819.png" style="zoom:50%;" />

码片序列：
<img src="D:\计网\QQ截图20200422110909.png" style="zoom:50%;" />

(编码压缩传输信号)

编码规则：<img src="D:\计网\QQ截图20200422111532.png" style="zoom:50%;" />S与S正交内积为1 S与S反内积为-1

## 数字传输系统：

模信转数信：
采样：选取模拟信号上的一系列采样点
量化：选定采样点值的二进制表示位

<img src="D:\计网\QQ截图20200422113513.png" style="zoom:67%;" />



宽带接入技术：


DMT调频技术：
频分复用
<img src="D:\计网\QQ截图20200424154152.png" style="zoom:50%;" />

<img src="D:\计网\QQ截图20200424154231.png" style="zoom:53%;" />

ADSL不保证传输的数据率
<img src="D:\计网\QQ截图20200424154709.png" style="zoom:50%;" />

![](D:\计网\QQ截图20200424154947.png)

二代ADSL：
<img src="D:\计网\QQ截图20200424155413.png" style="zoom:67%;" />

光纤同轴混合网 HFC
树状结构
<img src="D:\计网\QQ截图20200424155626.png" style="zoom:50%;" />

结点体系结构：
![](D:\计网\QQ截图20200424160706.png)
同一光纤结点下用户总线连接共享带宽

双向传输 扩展传输频带：
<img src="D:\计网\QQ截图20200424160834.png" style="zoom:67%;" />

用户安装用户接口盒
![](D:\计网\QQ截图20200424161234.png)

FTTx技术：
![](D:\计网\QQ截图20200424161409.png)

![](D:\计网\QQ截图20200424161822.png)

（章重点）```概念性理解，填空选择题 ```
```2.1 2.2 黑体字概念 2.3 2.4频道编码同步复用等  一些基本数值与计算方法 信号传递方式   ```

## 数据链路层（3.3，3.4 重点）：

两种信道：

1. 点对点信道 直接一对一
2. 广播信道 在多对多的情况下实现一对一（公网映射）

不同链路层可能采用不同的数据链路层协议

点对点：

两个基本概念 三个1基本问题

链路（无源 点到点 物理概念）
数据链路（数据代码 逻辑概念）
：<img src="D:\计网\QQ截图20200424164240.png" style="zoom:59%;" />

**位是物理层传输单元
帧(多个位连续组合）是数据链路层传输单元**
![](D:\计网\QQ截图20200424164731.png)

数据链路层不考虑物理层如何实现传输
可实现两点间**无差错的传输数据**

三个基本问题
封装成帧 透明传输 差错控制

封装成帧（framing） 在一段数据前后添加首部与尾部 构成一个帧 确定一个帧的开始和结束 确定帧的界限（首部和尾部是有一个总要作用是**帧定界**）
<img src="D:\计网\QQ截图20200424165929.png" style="zoom:67%;" />

MTU（最大数据传输单元） 用于限定传输的内容长度

当传输的是可打印的ASCII码组成的文件是可使用特定封装

CRC计算

FCS：添加的冗余码

帧传输可能错误：出错，丢失，重复，失序

广播：

网络共享技术：信道复用和信道接入两个技术

## CSMA/CD协议（重点）：

多点接入，载波监听，碰撞检测

网络跨度：最远端到端传输距离 2.8Km

电磁波在1公里上传播延迟约为5微妙

碰撞不可避

只能进行半双工通信 

发送信息的一小段时间内 存在遭遇碰撞的可能性 

<img src="D:\计网\QQ截图20200507102706.png" style="zoom:87%;" />

坚持监听：1概率监听

交换机工作在数据链路层

以太网交换机：

![](D:\计网\QQ截图20200507113119.png)

![](D:\计网\QQ截图20200507113524.png)

碎片隔离式(将无用帧进行丢弃)

![](D:\计网\QQ截图20200507120315.png)

本层增加字符 所以本层消除后再传给高层

章总结：

数据链路描述概念定义

点到点传输（大概）

广播传输（重点）

# 网络层

面向连接和无连接两种服务

重点 ： ip应用 路由算法，ip4协议应用

子网划分下的网络地址计算：
先得出网络类型
再计算子网掩码
子网掩码和IP地址逐位与运算得出网络地址

# 运输层：

UDP与TCP：
![](D:\计网\QQ截图20200515160514.png)

熟知端口：
![](D:\计网\QQ截图20200515161100.png)

TCP面向字节流：
![](D:\计网\QQ截图20200515163706.png)

![](D:\计网\QQ截图20200515163758.png)

![](D:\计网\QQ截图20200515163856.png)

流量控制：
接收方接收能力来决定发送方发送速度 使得两者速度相匹配

TCP传输：
![](D:\计网\QQ截图20200515174028.png)

![](D:\计网\QQ截图20200515174104.png)

选择确认SACK：
用于保留非序数据
![](D:\计网\QQ截图20200521101034.png)

流量控制：
0窗口死锁：
持续计时器
![](D:\计网\QQ截图20200521104439.png)

知识点：
著名端口号 ，了解UDP ， 掌握TCP
TCP：面向字节流，停等协议，差错控制（出错丢失重复），流水线，连续ARQ，TCP首部报文段格式，TCP基于滑动窗口的可靠传输和流量控制（p1，p2,p3 三个指针位置与含义），拥塞判断条件等，TCP拥塞控制方法（4个方法），链接管理（建立的三次握手和断开的四次握手（重点是握手报文的标志位设置与序号和是否可以承载数据））握手是单向的

# 应用层：

DNS,FTP,WWW HTTP,SMTP

DNS 域名规范：
![](D:\计网\QQ截图20200522164143.png)

重点：域名系统（DNS）FTP工作原理 HTTP 静态文档 动态文档 活动文档





### 答疑：

